RULE read service
CLASS AsyncFileReader
METHOD run
AT ENTRY
IF TRUE
DO
    debug(">>>wait for service enter write service");
    waitFor("write service");
    debug("<<<proceed with read service");
ENDRULE


RULE write service
CLASS TimedFileWriter
METHOD run
AT EXIT
IF TRUE
DO
    debug("<<<signalling read service");
    signalWake("write service", true);
    debug("<<<signalled read service");
ENDRULE

